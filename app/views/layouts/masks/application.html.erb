<!DOCTYPE html>
<html class="<%= dark_mode? ? "dark" : "" %> h-full bg-base-100" data-theme="<%= theme %>">
  <head>
    <title><%= t(".meta.title") %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-refresh-method" content="morph">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "masks/application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "masks/application", "data-turbo-track": "reload", defer: true %>
    <% if setting(:background) %>
      <style>
        body {
          background-image: <%= setting(:background) %>
        }

        @media (prefers-color-scheme: dark) {
          body {
            background-image: <%= setting(:dark_mode, :background) || setting(:background) %>
          }
        }
      </style>
    <% end %>
  </head>
  <body class="h-screen flex flex-col px-2" style="background-image: <%= setting(:background) || "none" %>">
    <div class="m-auto w-full max-w-[450px]">
      <div class="w-full px-6 bg-base-100 rounded-t-xl  opacity-90 z-0">
        <%= render "header" %>
      </div>
      <div class="w-full px-6 pb-7 bg-base-100 shadow-2xl z-10">
        <%= yield %>
      </div>
      <div class="shadow-2xl flex items-center text-xs rounded-b-xl px-8 p-3 pb-4 bg-base-100 opacity-80">
        <a class="text-sm" href="<%= tenant.redirect_uri %>">
          <%= setting(:name) %>
        </a>
      </div>
    </div>
  </body>
</html>
